/*
 * linux/arch/arm/mach-mmp/include/mach/regs-icu.h
 *
 *   Interrupt Control Unit
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#ifndef __ASM_MACH_ICU_H
#define __ASM_MACH_ICU_H

#include <mach/addr-map.h>

#define ICU_VIRT_BASE	(AXI_VIRT_BASE + 0x82000)
#define ICU_REG(x)	(ICU_VIRT_BASE + (x))

#define ICU_INT_CONF(n)		ICU_REG((n) << 2)
#define ICU_INT_CONF_MASK	(0xf)

/************ PXA168/PXA910 (MMP) *********************/
#define ICU_INT_CONF_AP_INT	(1 << 6)
#define ICU_INT_CONF_CP_INT	(1 << 5)
#define ICU_INT_CONF_IRQ	(1 << 4)

#define ICU_AP_FIQ_SEL_INT_NUM	ICU_REG(0x108)	/* AP FIQ Selected Interrupt */
#define ICU_AP_IRQ_SEL_INT_NUM	ICU_REG(0x10C)	/* AP IRQ Selected Interrupt */
#define ICU_AP_GBL_IRQ_MSK	ICU_REG(0x114)	/* AP Global Interrupt Mask */
#if defined(CONFIG_CPU_PXA1088)
#define ICU_INT_STATUS_0	ICU_REG(0x200)
#define ICU_INT_STATUS_1	ICU_REG(0x204)
#elif defined(CONFIG_CPU_PXA988)
#define ICU_INT_STATUS_0	ICU_REG(0x128)	/* Interrupt Stuats 0 */
#define ICU_INT_STATUS_1	ICU_REG(0x12C)	/* Interrupt Status 1 */
#endif
#define ICU_INT_STATUS_2	ICU_REG(0x208)	/* Only for HELAN Use */

/************************** MMP2 ***********************/

/*
 * IRQ0/FIQ0 is routed to SP IRQ/FIQ.
 * IRQ1 is routed to PJ4 IRQ, and IRQ2 is routes to PJ4 FIQ.
 */
#define ICU_INT_ROUTE_SP_IRQ		(1 << 4)
#define ICU_INT_ROUTE_PJ4_IRQ		(1 << 5)
#define ICU_INT_ROUTE_PJ4_FIQ		(1 << 6)

#define MMP2_ICU_PJ4_IRQ_STATUS0	ICU_REG(0x138)
#define MMP2_ICU_PJ4_IRQ_STATUS1	ICU_REG(0x13c)
#define MMP2_ICU_PJ4_FIQ_STATUS0	ICU_REG(0x140)
#define MMP2_ICU_PJ4_FIQ_STATUS1	ICU_REG(0x144)

#define ICU_DMAIRQ_MASK		ICU_REG(0x11c)
#define ICU_DMAFIQ_MASK		ICU_REG(0x120)
#define ICU_DMAIRQ_STATUS	ICU_REG(0x128)

#define MMP2_ICU_INT4_STATUS		ICU_REG(0x150)
#define MMP2_ICU_INT5_STATUS		ICU_REG(0x154)
#define MMP2_ICU_INT17_STATUS		ICU_REG(0x158)
#define MMP2_ICU_INT35_STATUS		ICU_REG(0x15c)
#define MMP2_ICU_INT51_STATUS		ICU_REG(0x160)
#define MMP2_ICU_INT9_STATUS		ICU_REG(0x180)
#define MMP2_ICU_INT55_STATUS		ICU_REG(0x188)

#define MMP2_ICU_INT4_MASK		ICU_REG(0x168)
#define MMP2_ICU_INT5_MASK		ICU_REG(0x16C)
#define MMP2_ICU_INT17_MASK		ICU_REG(0x170)
#define MMP2_ICU_INT35_MASK		ICU_REG(0x174)
#define MMP2_ICU_INT51_MASK		ICU_REG(0x178)
#define MMP2_ICU_INT9_MASK		ICU_REG(0x17c)
#define MMP2_ICU_INT55_MASK		ICU_REG(0x184)

#define MMP2_ICU_SP_IRQ_SEL		ICU_REG(0x100)
#define MMP2_ICU_PJ4_IRQ_SEL		ICU_REG(0x104)
#define MMP2_ICU_PJ4_FIQ_SEL		ICU_REG(0x108)

#define MMP2_ICU_INVERT			ICU_REG(0x164)

#define MMP2_ICU_INV_PMIC		(1 << 0)
#define MMP2_ICU_INV_PERF		(1 << 1)
#define MMP2_ICU_INV_COMMTX		(1 << 2)
#define MMP2_ICU_INV_COMMRX		(1 << 3)

/************************** MMP3 ***********************/

#if defined(CONFIG_CPU_MMP3)

#define ICU1_VIRT_BASE	 (AXI_VIRT_BASE + 0x82000)
#define ICU1_REG(x)	 (ICU1_VIRT_BASE + (x))
#define ICU1_INT_CONF(n) ICU1_REG((n) << 2)

#define ICU2_VIRT_BASE	 (AXI_VIRT_BASE + 0x84000)
#define ICU2_REG(x)	 (ICU2_VIRT_BASE + (x))
#define ICU2_INT_CONF(n) ICU2_REG((n) << 2)

/*
+ * FIQ0 routes to SP FIQ
+ * IRQ0 routes to SP IRQ
+ * IRQ1 routes to PJ4-MP1 IRQ
+ * IRQ2 routes to PJ4-MP1 FIQ
+ * IRQ3 routes to PJ4-MP2 IRQ
+ * IRQ4 routes to PJ4-MP2 FIQ
+ * IRQ5 routes to PJ4-mm IRQ
+ * IRQ6 routes to PJ4-mm FIQ
+ */

#define ICU1_INT_ROUTE_SP_IRQ_FIQ	(1 << 4)
#define ICU1_INT_ROUTE_PJMP1_IRQ	(1 << 5)
#define ICU1_INT_ROUTE_PJMP1_FIQ	(1 << 6)

#define ICU2_INT_ROUTE_PJMP2_IRQ	(1 << 4)
#define ICU2_INT_ROUTE_PJMP2_FIQ	(1 << 5)
#define ICU2_INT_ROUTE_PJMM_IRQ		(1 << 6)
#define ICU2_INT_ROUTE_PJMM_FIQ		(1 << 7)

#define MMP3_ICU_IRQ_55_CONF		ICU1_REG(0x0DC)
#define MMP3_ICU_IRQ0_SEL_INT_NUM	ICU1_REG(0x100)
#define MMP3_ICU_IRQ1_SEL_INT_NUM	ICU1_REG(0x104)
#define MMP3_ICU_IRQ2_SEL_INT_NUM	ICU1_REG(0x108)
#define MMP3_ICU_GBL_IRQ0_MSK		ICU1_REG(0x10C)
#define MMP3_ICU_GBL_IRQ1_MSK		ICU1_REG(0x110)
#define MMP3_ICU_GBL_IRQ2_MSK		ICU1_REG(0x114)
#define MMP3_ICU_DMA_IRQ0_MASK		ICU1_REG(0x118)
#define MMP3_ICU_DMA_IRQ1_MASK		ICU1_REG(0x11C)
#define MMP3_ICU_DMA_IRQ2_MASK		ICU1_REG(0x120)
#define MMP3_ICU_DMA_IRQ0_STATUS	ICU1_REG(0x124)
#define MMP3_ICU_DMA_IRQ1_STATUS	ICU1_REG(0x128)
#define MMP3_ICU_DMA_IRQ2_STATUS	ICU1_REG(0x12C)
#define MMP3_ICU_IRQ0_STATUS_0		ICU1_REG(0x130)
#define MMP3_ICU_IRQ0_STATUS_1		ICU1_REG(0x134)
#define MMP3_ICU_IRQ1_STATUS_0		ICU1_REG(0x138)
#define MMP3_ICU_IRQ1_STATUS_1		ICU1_REG(0x13C)
#define MMP3_ICU_IRQ2_STATUS_0		ICU1_REG(0x140)
#define MMP3_ICU_IRQ2_STATUS_1		ICU1_REG(0x144)
#define MMP3_ICU_INT_4_STATUS		ICU1_REG(0x150)
#define MMP3_ICU_INT_5_STATUS		ICU1_REG(0x154)
#define MMP3_ICU_INT_17_STATUS		ICU1_REG(0x158)
#define MMP3_ICU_INT_35_STATUS		ICU1_REG(0x15C)
#define MMP3_ICU_INT_51_STATUS		ICU1_REG(0x160)
#define MMP3_ICU_INT_INVERT		ICU1_REG(0x164)
#define MMP3_ICU_INT_4_MASK		ICU1_REG(0x168)
#define MMP3_ICU_INT_5_MASK		ICU1_REG(0x16C)
#define MMP3_ICU_INT_17_MASK		ICU1_REG(0x170)
#define MMP3_ICU_INT_35_MASK		ICU1_REG(0x174)
#define MMP3_ICU_INT_51_MASK		ICU1_REG(0x178)
#define MMP3_ICU_INT_55_MASK		ICU1_REG(0x17C)
#define MMP3_ICU_INT_57_MASK		ICU1_REG(0x180)
#define MMP3_ICU_INT_55_STATUS		ICU1_REG(0x184)
#define MMP3_ICU_INT_57_STATUS		ICU1_REG(0x188)
#define MMP3_ICU_INT_6_MASK		ICU1_REG(0x1A4)
#define MMP3_ICU_INT_8_MASK		ICU1_REG(0x1A8)
#define MMP3_ICU_INT_18_MASK		ICU1_REG(0x1AC)
#define MMP3_ICU_INT_30_MASK		ICU1_REG(0x1B0)
#define MMP3_ICU_INT_42_MASK		ICU1_REG(0x1B4)
#define MMP3_ICU_INT_58_MASK		ICU1_REG(0x1B8)
#define MMP3_ICU_INT_6_STATUS		ICU1_REG(0x1BC)
#define MMP3_ICU_INT_8_STATUS		ICU1_REG(0x1C0)
#define MMP3_ICU_INT_18_STATUS		ICU1_REG(0x1C4)
#define MMP3_ICU_INT_30_STATUS		ICU1_REG(0x1C8)
#define MMP3_ICU_INT_42_STATUS		ICU1_REG(0x1CC)
#define MMP3_ICU_INT_58_STATUS		ICU1_REG(0x1D0)


#define MMP3_ICU_IRQ3_SEL_INT_NUM	ICU2_REG(0x100)
#define MMP3_ICU_IRQ4_SEL_INT_NUM	ICU2_REG(0x104)
#define MMP3_ICU_IRQ5_SEL_INT_NUM	ICU2_REG(0x108)
#define MMP3_ICU_GBL_IRQ3_MSK		ICU2_REG(0x10C)
#define MMP3_ICU_GBL_IRQ4_MSK		ICU2_REG(0x110)
#define MMP3_ICU_GBL_IRQ5_MSK		ICU2_REG(0x114)
#define MMP3_ICU_DMA_IRQ3_MASK		ICU2_REG(0x118)
#define MMP3_ICU_DMA_IRQ4_MASK		ICU2_REG(0x11C)
#define MMP3_ICU_DMA_IRQ5_MASK		ICU2_REG(0x120)
#define MMP3_ICU_DMA_IRQ3_STATUS	ICU2_REG(0x124)
#define MMP3_ICU_DMA_IRQ4_STATUS	ICU2_REG(0x128)
#define MMP3_ICU_DMA_IRQ5_STATUS	ICU2_REG(0x12C)
#define MMP3_ICU_IRQ3_STATUS_0		ICU2_REG(0x130)
#define MMP3_ICU_IRQ3_STATUS_1		ICU2_REG(0x134)
#define MMP3_ICU_IRQ4_STATUS_0		ICU2_REG(0x138)
#define MMP3_ICU_IRQ4_STATUS_1		ICU2_REG(0x13C)
#define MMP3_ICU_IRQ5_STATUS_0		ICU2_REG(0x140)
#define MMP3_ICU_IRQ5_STATUS_1		ICU2_REG(0x144)
#define MMP3_ICU_IRQ6_SEL_INT_NUM	ICU2_REG(0x18C)
#define MMP3_ICU_GBL_IRQ6_MSK		ICU2_REG(0x190)
#define MMP3_ICU_DMA_IRQ6_MSK		ICU2_REG(0x194)
#define MMP3_ICU_DMA_IRQ6_STATUS	ICU2_REG(0x198)
#define MMP3_ICU_IRQ6_STATUS_0		ICU2_REG(0x19C)
#define MMP3_ICU_IRQ6_STATUS_1		ICU2_REG(0x1A0)

#endif /* CONFIG_CPU_MMP3 */

#if defined(CONFIG_CPU_PXA988)
#define PXA988_ICU_CP_FIQ_NUM		ICU_REG(0x100)
#define PXA988_ICU_CP_IRQ_NUM		ICU_REG(0x104)
#define PXA988_ICU_A9C0_FIQ_NUM		ICU_REG(0x108)
#define PXA988_ICU_A9C0_IRQ_NUM		ICU_REG(0x10C)
#define PXA988_ICU_CP_GBL_INT_MSK	ICU_REG(0x110)
#define PXA988_ICU_A9C0_GBL_INT_MSK	ICU_REG(0x114)
#define PXA988_ICU_DMA_CP_INT_MSK	ICU_REG(0x118)
#define PXA988_ICU_DMA_A9C0_INT_MSK	ICU_REG(0x11C)
#define PXA988_ICU_DMA_CP_INT_STATUS	ICU_REG(0x120)
#define PXA988_ICU_DMA_A9C0_INT_STATUS	ICU_REG(0x124)
#define PXA988_ICU_INT_STATUS_0		ICU_REG(0x128)
#define PXA988_ICU_INT_STATUS_1		ICU_REG(0x12C)
#define PXA988_ICU_ARM_INT_MSK		ICU_REG(0x130)
#define PXA988_ICU_ARM_INT_STATUS	ICU_REG(0x134)
#define PXA988_ICU_PA_CLR		ICU_REG(0x138)
#define PXA988_ICU_A9C1_FIQ_NUM		ICU_REG(0x13C)
#define PXA988_ICU_A9C1_IRQ_NUM		ICU_REG(0x140)
#define PXA988_ICU_A9C1_GBL_INT_MSK	ICU_REG(0x144)
#define PXA988_ICU_DMA_A9C1_INT_MSK	ICU_REG(0x148)
#define PXA988_ICU_DMA_A9C1_INT_STATUS	ICU_REG(0x14C)
#endif /* CONFIG_CPU_PXA988 */

#if defined(CONFIG_CPU_PXA1088)
#define PXA1088_ICU_INT_STATUS_0	ICU_REG(0x200)
#define PXA1088_ICU_INT_STATUS_1	ICU_REG(0x204)
#define PXA1088_ICU_INT_STATUS_2	ICU_REG(0x208)
#define PXA1088_ICU_CP_FIQ_NUM		ICU_REG(0x210)
#define PXA1088_ICU_CP_IRQ_NUM		ICU_REG(0x214)
#define PXA1088_ICU_CP_GBL_INT_MSK	ICU_REG(0x218)
#define PXA1088_ICU_APC0_FIQ_NUM	ICU_REG(0x220)
#define PXA1088_ICU_APC0_IRQ_NUM	ICU_REG(0x224)
#define PXA1088_ICU_APC0_GBL_INT_MSK	ICU_REG(0x228)
#define PXA1088_ICU_APC1_FIQ_NUM	ICU_REG(0x230)
#define PXA1088_ICU_APC1_IRQ_NUM	ICU_REG(0x234)
#define PXA1088_ICU_APC1_GBL_INT_MSK	ICU_REG(0x238)
#define PXA1088_ICU_APC2_FIQ_NUM	ICU_REG(0x240)
#define PXA1088_ICU_APC2_IRQ_NUM	ICU_REG(0x244)
#define PXA1088_ICU_APC2_GBL_INT_MSK	ICU_REG(0x248)
#define PXA1088_ICU_APC3_FIQ_NUM	ICU_REG(0x250)
#define PXA1088_ICU_APC3_IRQ_NUM	ICU_REG(0x254)
#define PXA1088_ICU_APC3_GBL_INT_MSK	ICU_REG(0x258)
#define PXA1088_ICU_ARM_INT_STATUS	ICU_REG(0x300)
#define PXA1088_ICU_ARM_INT_MSK		ICU_REG(0x304)
#define PXA1088_ICU_DMA_CP_INT_ST	ICU_REG(0x310)
#define PXA1088_ICU_DMA_CP_INT_MSK	ICU_REG(0x314)
#define PXA1088_ICU_DMA_APC0_INT_ST		ICU_REG(0x320)
#define PXA1088_ICU_DMA_APC0_INT_MSK		ICU_REG(0x324)
#define PXA1088_ICU_SEC_DMA_APC0_INT_ST		ICU_REG(0x328)
#define PXA1088_ICU_DMA_APC0_SEC_INT_MSK	ICU_REG(0x32c)
#define PXA1088_ICU_DMA_APC1_INT_ST		ICU_REG(0x330)
#define PXA1088_ICU_DMA_APC1_INT_MSK		ICU_REG(0x334)
#define PXA1088_ICU_SEC_DMA_APC1_INT_ST		ICU_REG(0x338)
#define PXA1088_ICU_DMA_APC1_SEC_INT_MSK	ICU_REG(0x33c)
#define PXA1088_ICU_DMA_APC2_INT_ST		ICU_REG(0x340)
#define PXA1088_ICU_DMA_APC2_INT_MSK		ICU_REG(0x344)
#define PXA1088_ICU_SEC_DMA_APC2_INT_ST		ICU_REG(0x348)
#define PXA1088_ICU_DMA_APC2_SEC_INT_MSK	ICU_REG(0x34c)
#define PXA1088_ICU_DMA_APC3_INT_ST		ICU_REG(0x350)
#define PXA1088_ICU_DMA_APC3_INT_MSK		ICU_REG(0x354)
#define PXA1088_ICU_SEC_DMA_APC3_INT_ST		ICU_REG(0x358)
#define PXA1088_ICU_DMA_APC3_SEC_INT_MSK	ICU_REG(0x35c)
#endif /* CONFIG_CPU_PXA1088 */

/************************** EDEN ***********************/

#if defined(CONFIG_CPU_EDEN)

/*
 * ICU Configuration Register Bit Definitions:
 * IRQ SP routes to SP IRQ
 * FIRQ1 routes to CA7-1 FIQ
 * IRQ1 routes to CA7-1 IRQ
 * FIRQ2 routes to CA7-2 FIQ
 * IRQ2 routes to CA7-2 IRQ
*/

#define ICU_INT_ROUTE_SP_IRQ		(1 << 4)
#define ICU_INT_ROUTE_CA7_1_FIQ		(1 << 5)
#define ICU_INT_ROUTE_CA7_1_IRQ		(1 << 6)
#define ICU_INT_ROUTE_CA7_2_FIQ		(1 << 7)
#define ICU_INT_ROUTE_CA7_2_IRQ		(1 << 8)

#define EDEN_ICU_IRQ_SP_SEL_INT_NUM	ICU_REG(0x100)
#define EDEN_ICU_FIQ1_SEL_INT_NUM	ICU_REG(0x104)
#define EDEN_ICU_IRQ1_SEL_INT_NUM	ICU_REG(0x108)
#define EDEN_ICU_FIQ2_SEL_INT_NUM	ICU_REG(0x18C)
#define EDEN_ICU_IRQ2_SEL_INT_NUM	ICU_REG(0x1d4)

#define EDEN_ICU_GBL_IRQ_SP_MSK		ICU_REG(0x10C)
#define EDEN_ICU_GBL_FIQ1_MSK		ICU_REG(0x110)
#define EDEN_ICU_GBL_IRQ1_MSK		ICU_REG(0x114)
#define EDEN_ICU_GBL_FIQ2_MSK		ICU_REG(0x190)
#define EDEN_ICU_GBL_IRQ2_MSK		ICU_REG(0x1d8)

#define EDEN_ICU_DMA_IRQ_SP_MSK		ICU_REG(0x118)
#define EDEN_ICU_DMA_FIQ1_MSK		ICU_REG(0x11C)
#define EDEN_ICU_DMA_IRQ1_MSK		ICU_REG(0x120)
#define EDEN_ICU_DMA_FIQ2_MSK		ICU_REG(0x194)
#define EDEN_ICU_DMA_IRQ2_MSK		ICU_REG(0x1dc)

#define EDEN_ICU_DMA_IRQ_SP_STATUS	ICU_REG(0x124)
#define EDEN_ICU_DMA_FIQ1_STATUS	ICU_REG(0x128)
#define EDEN_ICU_DMA_IRQ1_STATUS	ICU_REG(0x12C)
#define EDEN_ICU_DMA_FIQ2_STATUS	ICU_REG(0x198)
#define EDEN_ICU_DMA_IRQ2_STATUS	ICU_REG(0x1E0)

#define EDEN_ICU_IRQ_SP_STATUS_0	ICU_REG(0x130)
#define EDEN_ICU_IRQ_SP_STATUS_1	ICU_REG(0x134)
#define EDEN_ICU_FIQ1_STATUS_0		ICU_REG(0x138)
#define EDEN_ICU_FIQ1_STATUS_1		ICU_REG(0x13C)
#define EDEN_ICU_IRQ1_STATUS_0		ICU_REG(0x140)
#define EDEN_ICU_IRQ1_STATUS_1		ICU_REG(0x144)
#define EDEN_ICU_FIQ2_STATUS_0		ICU_REG(0x19C)
#define EDEN_ICU_FIQ2_STATUS_1		ICU_REG(0x1A0)
#define EDEN_ICU_IRQ2_STATUS_0		ICU_REG(0x1E4)
#define EDEN_ICU_IRQ2_STATUS_1		ICU_REG(0x1E8)

#define EDEN_ICU_INT_4_STATUS		ICU_REG(0x150)
#define EDEN_ICU_INT_5_STATUS		ICU_REG(0x154)
#define EDEN_ICU_INT_6_STATUS		ICU_REG(0x1BC)
#define EDEN_ICU_INT_8_STATUS		ICU_REG(0x1C0)
#define EDEN_ICU_INT_17_STATUS		ICU_REG(0x158)
#define EDEN_ICU_INT_18_STATUS		ICU_REG(0x1C4)
#define EDEN_ICU_INT_30_STATUS		ICU_REG(0x1C8)
#define EDEN_ICU_INT_35_STATUS		ICU_REG(0x15C)
#define EDEN_ICU_INT_42_STATUS		ICU_REG(0x1CC)
#define EDEN_ICU_INT_51_STATUS		ICU_REG(0x160)
#define EDEN_ICU_INT_INVERT		ICU_REG(0x164)
#define EDEN_ICU_INT_55_STATUS		ICU_REG(0x184)
#define EDEN_ICU_INT_57_STATUS		ICU_REG(0x188)
#define EDEN_ICU_INT_58_STATUS		ICU_REG(0x1D0)

#define EDEN_ICU_INT_4_MASK		ICU_REG(0x168)
#define EDEN_ICU_INT_5_MASK		ICU_REG(0x16C)
#define EDEN_ICU_INT_6_MASK		ICU_REG(0x1A4)
#define EDEN_ICU_INT_8_MASK		ICU_REG(0x1A8)
#define EDEN_ICU_INT_17_MASK		ICU_REG(0x170)
#define EDEN_ICU_INT_18_MASK		ICU_REG(0x1AC)
#define EDEN_ICU_INT_30_MASK		ICU_REG(0x1B0)
#define EDEN_ICU_INT_35_MASK		ICU_REG(0x174)
#define EDEN_ICU_INT_42_MASK		ICU_REG(0x1B4)
#define EDEN_ICU_INT_51_MASK		ICU_REG(0x178)
#define EDEN_ICU_INT_55_MASK		ICU_REG(0x17C)
#define EDEN_ICU_INT_57_MASK		ICU_REG(0x180)
#define EDEN_ICU_INT_58_MASK		ICU_REG(0x1B8)

#endif /* CONFIG_CPU_EDEN */

#endif /* __ASM_MACH_ICU_H */
